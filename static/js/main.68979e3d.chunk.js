(this.webpackJsonpweather_redux=this.webpackJsonpweather_redux||[]).push([[0],{129:function(e,n,t){},164:function(e,n,t){},165:function(e,n,t){"use strict";t.r(n);var a,i,c,s,r,o,l,d,u,h,j=t(0),b=t.n(j),p=t(30),f=t.n(p),O=(t(129),t(172)),g=(t(69),t(25)),x=t(26),v=x.b.div(a||(a=Object(g.a)(["\n    Input{\n        border-radius:10px;\n    }\n"]))),y=x.b.div(i||(i=Object(g.a)(["\n    margin-top 30px;\n\n    display: flex;\n    align-content: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n"]))),m=x.b.div(c||(c=Object(g.a)(["\n    display: flex;\n    flex-direction: column;\n    max-width:1024px;\n    max-height:582px;\n    padding-top: 20px;\n    border-radius: 30px;\n    color:white;\n"]))),S=x.b.div(s||(s=Object(g.a)(["\n    display:flex;\n    margin: 10px;\n    padding: 10px;\n\n    .locationInfo{\n        flex: 1;\n        display: flex;\n        align-content: center;\n    }\n\n    .currentTime{\n        flex:1;\n        align-content: center;\n        justify-content: flex-end;\n        display:flex;\n\n        div{\n            margin: 0 auto;\n        }\n    }\n\n    .updatedInfo{\n        flex: 1;\n        display: flex;\n        align-content: center;\n        justify-content: flex-end;\n    }\n"]))),_=x.b.div(r||(r=Object(g.a)(["\n\n    display: flex;\n\n    div > p {\n        display: block;\n    }\n\n    .majorWeatherInfo{\n        flex:1;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n\n        > img {\n            width:64px;\n            height:64px;\n        }\n    }\n    .mirrorWeatherInfo{\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n"]))),N=x.b.div(o||(o=Object(g.a)([""]))),w=x.b.div(l||(l=Object(g.a)(["\n    display:flex;\n\n    .forecast-day{\n        flex:1;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        cursor:pointer;\n\n        &.active{\n            background-color:rgb(189, 245, 241);\n            color:black;\n            cursor:crosshair;\n        }\n    }\n\n    >div:first-child{\n        border-radius: 0 0 0 30px;\n    }\n    >div:last-child{\n        border-radius:0 0 30px 0;\n    }\n\n"]))),I=x.b.div(d||(d=Object(g.a)(["\n"]))),k=x.b.div(u||(u=Object(g.a)(["\n    display: flex;\n    height : 10%;\n    max-height: 64px;\n\n    > div {\n        flex : 1;\n    }\n\n    .descriptions{\n        padding: 5px;\n    }\n    .toggleSwitch{\n        display: flex;\n        justify-content: flex-end;\n        padding: 5px;\n        margin:20px;\n    }\n"]))),C=x.b.div(h||(h=Object(g.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-content: center;\n    row-gap: 10px;\n    width:100%;\n    text-align: center;\n\n    &.active{\n        background: rgb(50,50,50);\n        color:white;\n    }\n"]))),J=t(65),L={inputValue:"",list:[],listShow:!1,current:"",location:"",forecast:"",respondLoading:!1,respondLoaded:!1,daySelector:"0",nightmode:!1},M=t(97),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.b,D=Object(J.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"load_list_respond":var t=JSON.parse(JSON.stringify(e));return t.list=list,n.value,t;case"load_forecast_info":var a=JSON.parse(JSON.stringify(e));return a.current=n.value.current,a.location=n.value.location,a.forecast=n.value.forecast.forecastday,a;case"loading_list_result":var i=JSON.parse(JSON.stringify(e));return i.respondLoading=!0,i.respondLoaded=!1,i;case"loading_weather_result":var c=JSON.parse(JSON.stringify(e));return c.respondLoading=!1,c.respondLoaded=!0,c;case"hide_list":var s=JSON.parse(JSON.stringify(e));return s.listShow=!1,s;case"show_list":var r=JSON.parse(JSON.stringify(e));return r.listShow=!0,r;case"switch_nightmode":var o=JSON.parse(JSON.stringify(e));return o.nightmode?o.nightmode=!1:o.nightmode=!0,o;case"loading_function_test":var l=JSON.parse(JSON.stringify(e));return l.respondLoading=!0,l.respondLoaded=!1,l;case"select_day":var d=JSON.parse(JSON.stringify(e));return d.daySelector=n.value,d;case"change_respondLoaded_to_false":var u=JSON.parse(JSON.stringify(e));return u.respondLoaded=!1,u;default:return e}}),F(Object(J.a)(M.a))),E=t(72),B=t.n(E),P=function(e,n){return function(t){B.a.get("http://api.weatherapi.com/v1/forecast.json?",{params:{key:"757a8898541844c2916101944210607",q:e+","+n,days:3,aqi:"no",alerts:"no"}}).then((function(e){console.log(e.data),t(z(e.data)),t(G())})).catch((function(e){console.log(e)})).then((function(){t(W())}))}},W=function(){return{type:"hide_list"}},Q=function(){return{type:"show_list"}},T=function(e){return{type:"load_list_respond",value:e}},G=function(){return{type:"loading_weather_result"}},z=function(e){return{type:"load_forecast_info",value:e}},H=t(4);function q(){return Object(H.jsxs)(k,{children:[Object(H.jsx)("div",{className:"descriptions"}),Object(H.jsx)("div",{className:"toggleSwitch",children:Object(H.jsx)(O.a,{checkedChildren:"\ud83c\udf1a",unCheckedChildren:"\ud83c\udf1e",onChange:function(){D.dispatch({type:"switch_nightmode"}),""===document.body.className?document.body.className="bk-bg":document.body.className=""}})})]})}var A=t(121),U=t(99),R=t(100),V=t(29),X=t(123),K=t(119),Y=t(173),Z=t(101);var $=function(){return Object(H.jsx)(Y.b,{children:Object(H.jsx)(Z.a,{size:"large"})})},ee=t(115);function ne(){return Object(H.jsx)("div",{children:Object(H.jsx)(ee.a,{color:"#98E0FF"})})}var te=t(60);function ae(){var e=Object(j.useState)(new Date),n=Object(te.a)(e,2),t=n[0],a=n[1];return Object(j.useEffect)((function(){setInterval((function(){a(new Date)}),1e3)})),Object(H.jsx)("div",{children:t.toLocaleTimeString()})}var ie=t.p+"static/media/clear-day.5575ef05.jpeg",ce=t.p+"static/media/clear-night.3539fa81.jpeg",se=t(170),re=t(171),oe=t(169),le=t(174),de=se.a.Search,ue=function(e){Object(X.a)(t,e);var n=Object(K.a)(t);function t(e){var a;return Object(U.a)(this,t),(a=n.call(this,e)).state=D.getState(),a.handleStateChange=a.handleStateChange.bind(Object(V.a)(a)),a.handleInputonChange=a.handleInputonChange.bind(Object(V.a)(a)),a.handleInputonFocus=a.handleInputonFocus.bind(Object(V.a)(a)),a.handleInputonBlur=a.handleInputonBlur.bind(Object(V.a)(a)),a.handleQueryWeather=a.handleQueryWeather.bind(Object(V.a)(a)),a.handleOnMouseOver=a.handleOnMouseOver.bind(Object(V.a)(a)),a.handleSelectDay=a.handleSelectDay.bind(Object(V.a)(a)),a.handleOnMouseLeave=a.handleOnMouseLeave.bind(Object(V.a)(a)),a.handleGPSQuery=a.handleGPSQuery.bind(Object(V.a)(a)),D.subscribe(a.handleStateChange),a}return Object(R.a)(t,[{key:"handleGPSQuery",value:function(){D.dispatch({type:"loading_list_result"}),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){D.dispatch(P(e.coords.latitude,e.coords.longitude))})):alert("\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5730\u7406\u5b9a\u4f4d")}},{key:"handleChopHourlyInfo",value:function(){var e,n,t,a=[],i=this.state.forecast[this.state.daySelector].hour;for(e=0,n=i.length;e<n;e+=6)t=i.slice(e,e+6),a=[].concat(Object(A.a)(a),[t]);return Object(H.jsx)(re.a,{autoplay:!0,children:a.map((function(e,n){return Object(H.jsx)(I,{children:Object(H.jsx)("div",{className:"6trunk",style:{display:"flex",justifyContent:"center",alignItems:"center",columnGap:"100px"},children:e.map((function(e,n){return Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(H.jsx)("div",{children:e.time.substring(11)}),Object(H.jsx)("div",{children:Object(H.jsx)("img",{src:e.condition.icon})}),Object(H.jsx)("div",{children:e.temp_c+" \xb0C"})]},n)}))},n)},n)}))})}},{key:"handleStateChange",value:function(){this.setState(D.getState())}},{key:"handleInputonChange",value:function(e){D.dispatch(function(e){return function(n){B.a.get("https://www.weatherapi.com/weather/search.ashx?",{params:{q:e.target.value}}).then((function(e){0===e.data.length?n(W()):(n(T(e.data)),n(Q()))})).catch((function(e){console.log(e)}))}}(e))}},{key:"handleInputonFocus",value:function(){0!==this.state.list.length&&D.dispatch(Q())}},{key:"handleInputonBlur",value:function(){setTimeout((function(){D.dispatch(W())}),500)}},{key:"handleQueryWeather",value:function(e,n){D.dispatch(W()),D.dispatch({type:"loading_list_result"}),D.dispatch(P(e,n))}},{key:"handleOnMouseOver",value:function(){D.dispatch(Q())}},{key:"handleOnMouseLeave",value:function(){D.dispatch(W())}},{key:"handleSelectDay",value:function(e){D.dispatch(function(e){return{type:"select_day",value:e}}(e))}},{key:"render",value:function(){var e=this;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(v,{children:[Object(H.jsx)(de,{placeholder:"Enter a location",onChange:this.handleInputonChange,onFocus:this.handleInputonFocus,onBlur:this.handleInputonBlur,onSearch:this.handleGPSQuery,enterButton:Object(H.jsx)(le.a,{})}),this.state.listShow?Object(H.jsx)(oe.b,{bordered:!0,style:{background:"white",position:"absolute",width:"50%",zIndex:10},onMouseOver:this.handleOnMouseOver,onMouseLeave:this.handleOnMouseLeave,dataSource:this.state.list,renderItem:function(n){return Object(H.jsxs)(oe.b.Item,{onClick:function(){e.handleQueryWeather(n.lat,n.lon)},children:[" ",n.name]})}}):""]}),Object(H.jsx)(y,{children:this.state.respondLoaded?Object(H.jsxs)(m,{style:{backgroundImage:1===this.state.current.is_day?"url(".concat(ie,")"):"url(".concat(ce,")")},children:[Object(H.jsxs)(S,{children:[Object(H.jsx)("div",{className:"locationInfo",children:this.state.location.name+" , "+this.state.location.region+" , "+this.state.location.country}),Object(H.jsx)("div",{className:"currentTime",children:Object(H.jsx)(ae,{})}),Object(H.jsx)("div",{className:"updatedInfo",children:"Last updated "+this.state.current.last_updated})]}),Object(H.jsxs)(_,{children:[Object(H.jsxs)("div",{className:"majorWeatherInfo",children:[Object(H.jsx)("img",{src:this.state.current.condition.icon}),Object(H.jsx)("p",{children:this.state.current.condition.text}),Object(H.jsxs)("p",{children:[this.state.current.temp_c+" \xb0C"," "]})]}),Object(H.jsxs)("div",{className:"mirrorWeatherInfo",children:[Object(H.jsx)("p",{children:"Humidity : "+this.state.current.humidity}),Object(H.jsx)("p",{children:"Wind : "+this.state.current.wind_mph+" mph"}),Object(H.jsx)("p",{children:"Feels like "+this.state.current.feelslike_c+" \xb0C"})]})]}),Object(H.jsx)(N,{children:this.handleChopHourlyInfo()}),Object(H.jsx)(w,{children:this.state.forecast.map((function(n,t){return Object(H.jsxs)("div",{className:e.state.daySelector==t?"forecast-day active":"forecast-day",onClick:function(){return e.handleSelectDay(t)},children:[Object(H.jsx)("div",{children:n.date}),Object(H.jsx)("div",{children:Object(H.jsx)("img",{src:n.day.condition.icon})}),Object(H.jsx)("div",{children:n.day.avgtemp_c+" \xb0C"}),Object(H.jsxs)("div",{children:[Object(H.jsx)("i",{className:"iconfont",children:"\ue633"}),n.astro.sunrise]}),Object(H.jsxs)("div",{children:[Object(H.jsx)("i",{className:"iconfont",children:"\ue632"}),n.astro.sunset]})]},t)}))})]}):this.state.respondLoading?Object(H.jsx)($,{}):Object(H.jsx)(ne,{})})]})}}]),t}(b.a.Component),he=t.p+"static/media/logo.6ce24c58.svg";function je(){var e=Object(j.useState)(D.getState()),n=Object(te.a)(e,2),t=n[0],a=n[1];return Object(j.useEffect)((function(){D.subscribe((function(){a(D.getState())}))})),Object(H.jsxs)(C,{className:t.nightmode?"active":"",children:[Object(H.jsxs)("div",{children:["Power by reactJS ",Object(H.jsx)("img",{src:he,className:"App-logo",alt:"logo"})]}),Object(H.jsxs)("div",{children:["Made by ",Object(H.jsx)("a",{children:Object(H.jsx)("i",{children:"James "})}),"for more projects visit ",Object(H.jsx)("a",{href:"https://github.com/JamesGao0908",children:Object(H.jsx)("i",{className:"iconfont",children:"\ue600"})})]})]})}t(164);var be,pe=function(){return Object(H.jsxs)("div",{className:"App",children:[Object(H.jsx)("header",{className:"App-header",children:Object(H.jsx)(q,{})}),Object(H.jsx)("section",{children:Object(H.jsx)(ue,{})}),Object(H.jsx)("footer",{children:Object(H.jsx)(je,{})})]})},fe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,175)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,c=n.getLCP,s=n.getTTFB;t(e),a(e),i(e),c(e),s(e)}))},Oe=Object(x.a)(be||(be=Object(g.a)(["\n\nbody {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    \n    &.bk-bg{\n        background-color:rgb(50, 50, 50);\n    }\n}\n\n\ncode {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n\n\n.ant-carousel .slick-dots{\n    position: relative  !important;\n    margin-top:50px;\n}\n.ant-carousel{\n    margin-top:10px;\n    color : white !important;\n}\n\ndiv#root{\n    min-height: 100vh;\n}\n\n*{\n    box-sizing:border-box;\n}\n\n"])));f.a.render(Object(H.jsxs)(b.a.StrictMode,{children:[Object(H.jsx)(pe,{}),Object(H.jsx)(Oe,{})]}),document.getElementById("root")),fe()}},[[165,1,2]]]);
//# sourceMappingURL=main.68979e3d.chunk.js.map